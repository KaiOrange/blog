---
title: 两个有悖常识的概率题
date: 2020-10-11 13:07:31
author: Orange
tags:
  - 数学
categories: 算法
---

**1、一个家庭中有两个小孩，已知其中有一个是女孩，则这时另一个小孩是男孩的概率是多少？（假定生男孩和生女孩的概率是一样的）**

解答：一个家庭中有两个小孩只有4种可能：{男，男}、{男，女}、{女，男}、{女，女}。记事件A为“其中一个是女孩”，事件B为“另一个是男孩”，则:
A={(男，女)，(女，男)，(女，女)}，
B={(男，女)，(女，男)，(男，男)}，AB={(男，女)，(女，男)}。
可知，P(A)=3/4，P(AB)=2/4
由条件概率公式：P(BA)=P(AB)/P(A)=(2/4)/(3/4)=2/3

通俗一点讲两个小孩的4种可能中，由于一个孩子已经是女孩了，所以排除{男，男}这种可能。也就是总过有3种可能，而带有男孩的有2种，所以概率是2/3。这里很容易答成1/2，如果题目修改为“一个家庭中生了一个孩子是女孩，那么再生一个是男孩的概率是多少？”，这种情况概率就是1/2了，两者的不同是原题是一个条件概率事件，而修改后的题目是两个独立事件。

**2、假设一个班有50个同学，那么他们中有人生日相同的概率是多少？（假设一年有365天，即不考虑闰年的情况）**

解答：直接上答案，约等于97%！！
我们先考虑简单的情况，如果房子里有1个人，那么其他人与他生日相同的概率，很显然是0，因为就没有其他人。
另一个极端情况，如果房子里有366个人，由于一年只有365天，那么至少有1人会跟其他人生日一样，所以有人生日相同的概率是1。
慢慢推到，如果房子里有2个人，两者生日各不相同的概率很显然是364/365，那么两者有生日相同的概率就是1-364/365。
我们再推广到三个人，第三个人与前两个人生日不相同的概率是363/365，那么三个人生日都不相同的概率是(364/365)\*(363/365)，此时三者有人生日相同的概率就是1-(364/365)\*(363/365)。
貌似你已经发现规律了，如果有n（1~365之间）个人，那么他们生日都不相同的概率是(364/365)\*(363/365)\*(362/365)...\*((365-n)/365)，此时n个人有生日相同的概率就是1-(364/365)\*(363/365)\*(362/365)...\*((365-n)/365)。
这个式子懂了，我们就计算吧，为了方便计算我把n个人生日都不相同的概率封装了一个JavaScript方法：

```JavaScript
const birthdayProbability = (num) => {
    if(num <= 1) {
        return 0;
    } else if(num > 365){
        return 1;
    }
    let result = 1;
    for(let n = 1; n < num; n++) {
        result *= (365 - n) / 365;
    }
    return result;
}
```

那么n个人中有人生日相同的概率，就是`1 - birthdayProbability(n)`，我们现在算一下n=50的情况，得到的结果是`0.9703735795779884`。下面列出一些n的不同时，`1 - birthdayProbability(n)`的值：

n|1 - birthdayProbability(n)
---|---
23|0.5072972343239857
30|0.7063162427192688
35|0.8143832388747153
41|0.9031516114817354
50|0.9703735795779884

由上可见，每23个人中生日相同的概率竟然超过了50%，是不是跟我们想的有点不一样呢？
